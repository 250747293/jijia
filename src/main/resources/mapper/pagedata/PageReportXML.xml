<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.baiyajin.mapper.pagedata.PageReportMapper">
    <!--分页查询报告-->
    <select id="findList" parameterType="com.baiyajin.vo.pagedata.ReportVo" resultType="com.baiyajin.vo.pagedata.ReportVo">
        SELECT
        a.id AS "id",
        a.`name` AS "title",
        a.type AS "type",
        a.userID,
        a.createTime AS "createTime"
        FROM page_report a
        WHERE
        a.statusID = "qy"
        <if test="type !=null and type != ''">
            AND a.type = #{type}
        </if>
        <if test="title !=null and title != ''">
            AND a.name LIKE CONCAT('%', #{title}, '%')
        </if>
        <if test="userID !=null and userID != ''">
            AND a.userID = #{userID}
        </if>
        ORDER BY createTime DESC
        LIMIT #{pageCurrent},#{pSize}
    </select>
</mapper>